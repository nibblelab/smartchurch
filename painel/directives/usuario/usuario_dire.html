<script type="text/ng-template" id="usuario_data.html">
    <legend>Dados Básicos</legend>
    <div class="form-group row m-b-15">
        <label class="col-form-label col-md-2">Nome *</label>
        <div class="col-md-10">
            <input class="form-control m-b-5" type="text" placeholder="Nome" ng-model="ctrl.dataFrm.data.nome.value"
                ng-blur="ctrl.checkUsuario()" id="nome_usuario" ng-disabled="ctrl.readonly"
                ng-class="{'is-invalid': !ctrl.dataFrm.data.nome.valid}"
                name="validation[nome]" data-validation="[NOTEMPTY]"
                data-validation-message="O nome não pode ser vazio" />
        </div>
    </div>
    <div class="form-group row m-b-15" ng-show="ctrl.dataFrm.data.perfil.show" >
        <label class="col-form-label col-md-2">Perfil *</label>
        <div class="col-md-10">
            <select class="form-control" ng-model="ctrl.dataFrm.data.perfil.value"
                    ng-class="{'is-invalid': !ctrl.dataFrm.data.perfil.valid}" ng-disabled="ctrl.readonly"
                    name="validation[perfil]" data-validation="[NOTEMPTY]"
                    data-validation-message="O perfil não pode ser vazio" >
                <option value="" >Perfil</option>
                <option value="{{i.id}}" ng-repeat="i in ctrl.listPerfis">{{i.nome}}</option>
            </select>
        </div>
    </div>
    <div class="form-group row m-b-15">
        <label class="col-form-label col-md-2">E-mail *</label>
        <div class="col-md-10">
            <div class="input-group">
                <input class="form-control m-b-5" type="email" placeholder="E-mail" ng-model="ctrl.dataFrm.data.email.value"
                        ng-blur="ctrl.checkEmail()" ng-disabled="ctrl.readonly"
                        ng-class="{'is-invalid': !ctrl.dataFrm.data.email.valid}"
                        name="validation[email]" data-validation="[NOTEMPTY,EMAIL]"
                        data-validation-message="O e-mail não pode ser vazio e deve ser válido" />
                <span class="input-group-append">
                    <button type="button" class="btn btn-default" 
                            tooltips tooltip-template="Gerar E-mail" tooltip-side="top"  ng-disabled="ctrl.readonly"
                            ng-click="ctrl.generateEmail()">
                        <i class="fas fa-cog"></i>
                    </button>
                </span>
            </div>
        </div>
    </div>
    <div class="form-group row m-b-15">
        <label class="col-form-label col-md-2">Senha *</label>
        <div class="col-md-4">
            <div class="input-group">
                <input class="form-control m-b-5" type="password" placeholder="Senha" ng-model="ctrl.dataFrm.data.senha.value"
                        ng-class="{'is-invalid': !ctrl.dataFrm.data.senha.valid}" ng-disabled="ctrl.readonly"
                        name="validation[password]" data-validation="[OPTIONAL,L>=6]" 
                        data-validation-regex="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*_-#?&])[A-Za-z\d$@$!%*_-#?&]{6,}"
                        data-validation-message="A senha deve ter pelo menos 6 caracteres" 
                        data-validation-regex-message="A senha deve conter números, letras maiúscas e minúsculas e caracteres especiais como @,!,etc "
                         />
                <span class="input-group-append">
                    <button type="button" class="btn btn-default" 
                            tooltips tooltip-template="Gerar Senha" tooltip-side="top" ng-disabled="ctrl.readonly"
                            ng-click="ctrl.generatePassword()">
                        <i class="fas fa-cog"></i>
                    </button>
                </span>
            </div>
            <small ng-show="ctrl.dataFrm.data.id.value != ''">Se não for alterar deixe em branco</small>
        </div>
        <label class="col-form-label col-md-2">Repita a Senha *</label>
        <div class="col-md-4">
            <input class="form-control m-b-5" type="password" placeholder="Repita a Senha" ng-model="ctrl.dataFrm.data.r_senha.value"
                    ng-disabled="ctrl.readonly" name="validation[rpassword]" data-validation="[V==validation[password]]"
                    data-validation-message="As senhas não coincidem" />
            <small ng-show="ctrl.dataFrm.data.id.value != ''">Se não for alterar deixe em branco</small>
        </div>
    </div>
</script>
